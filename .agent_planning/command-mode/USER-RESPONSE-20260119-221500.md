# User Response: Command Mode Planning

**Date**: 2026-01-19 22:15:00
**Topic**: Interactive Command Mode
**Status**: AWAITING APPROVAL

## Design Decisions Confirmed

User clarified the following ambiguities:

1. **I/O During Command Mode**: Pause all I/O to wrapped process
   - Don't forward keyboard input while UI is visible
   - Cleanest UX, no corruption

2. **Wrapped Output Handling**: Allow scroll/overlay
   - Wrapped process output can scroll normally
   - UI needs periodic refresh to stay visible (100ms refresh cycle)

3. **Startup Hint**: Yes, show brief hint
   - Display: "long-term: Press Ctrl+\\ x3 for command mode"
   - Only if stderr is a terminal

## Sprint Plans Generated

Three HIGH-confidence sprints:

1. **SPRINT-20260119-input-parsing** (4-6 hours)
   - Keyboard parser with escape sequence handling
   - Command/Normal mode state machine
   - Numeric input buffer

2. **SPRINT-20260119-ui-rendering** (4-6 hours)
   - /dev/tty output with ANSI codes
   - Modal box layout (positioned, bordered, styled)
   - Dynamic content display

3. **SPRINT-20260119-integration** (4-6 hours)
   - Arrow key commands
   - Numeric entry (n/d)
   - Toggle/reset (space/r)
   - Startup hint
   - UI refresh and SIGWINCH

## Approval Status

Pending user approval.

## Files Generated

- `EVALUATION-20260119-220500.md` - Comprehensive codebase evaluation
- `SPRINT-20260119-input-parsing-PLAN.md` - Sprint 1 plan
- `SPRINT-20260119-input-parsing-DOD.md` - Sprint 1 acceptance criteria
- `SPRINT-20260119-ui-rendering-PLAN.md` - Sprint 2 plan
- `SPRINT-20260119-ui-rendering-DOD.md` - Sprint 2 acceptance criteria
- `SPRINT-20260119-integration-PLAN.md` - Sprint 3 plan
- `SPRINT-20260119-integration-DOD.md` - Sprint 3 acceptance criteria
- `USER-RESPONSE-20260119-221500.md` - This file
